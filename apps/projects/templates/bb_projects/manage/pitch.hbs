{% load bb_ember %}
{% load i18n %}
{% load static %}

{% tplhandlebars "my_project_pitch" %}
<div class="l-content">
    <form>
        {{#unless isPhasePlanNew}}
            {{bb-flash data=flash}}
        {{/unless}}

        <legend>
            <strong>
                {% trans 'Project Basics' %}
            </strong>
            {% trans "Yes! You made the decision to start crowdfunding! Letâ€™s start with the basics." %}
        </legend>
        
        <fieldset>
            <ul>
                {% bb_component 'bb-text-field' label=_('Title') name='title' valueBinding='title' placeholder=_('Be short, creative and memorable') errorsBinding='errors.title' maxlength=255 hint=_('Be short, creative and memorable.') %}

                {% bb_component 'bb-text-area' rows=8 label=_('Description') name='pitch' valueBinding='pitch' undertext=_('Describe your smart idea in one paragraph.') placeholder=_('Tell us in one paragraph where you need to the money for.') errorsBinding='errors.pitch' maxlength=200 %}
            </ul>
        </fieldset>
        <fieldset>
            <ul>
                {% bb_component 'bb-upload-image' name='img_upload' label=_('Picture') undertext=_('Upload the picture that best describes your campaign.') fileBinding='image' image_url='image.large' buttonLabel=_('Upload picture') errorsBinding='errors.image' %}

                {% bb_component 'bb-video-link' label=_('Video (optional)') name='video' undertext=_('Add a video pitch if you want. Make it sparkling!') placeholder=_('YouTube or Vimeo link (starting with http://)') valueBinding='video_url' video_html='video_html' errorsBinding='errors.video' %}
            </ul>
        </fieldset>
        <fieldset>
            <ul>
                {% bb_block_component label='Theme' undertext='Add keywords that will make your campaign easier to find' errors='errors.theme' %}
                    {{view App.ThemeSelectView name='theme' selectionBinding="theme" classBinding="errors.theme.length:error"
                    prompt='Select one of the themes.'}}
                {% endbb_block_component %}

                {{#bb-form-field undertext='Add keywords that will make your campaign easier to find' label='Keywords' errors=errors.tags}}
                    {{view App.TagWidget tagsBinding="tags" name='tags' placeholder="Choose max. 5 keywords that describe your campaign" classBinding="errors.tags.length:error" prompt='Add some tags that characterise your project.'}}
                {{/bb-form-field}}
            </ul>
        </fieldset>
        <fieldset>
            <ul>
                {% bb_component 'bb-datepicker' hint=_('Select the ending date of your project') valueBinding='deadline' name='deadline' label=_('Deadline') errorsBinding='errors.deadline' minDate=_('c') %}
            </ul>
        </fieldset>
        <fieldset>
            <ul>

                {% bb_component 'bb-map-picker' modelBinding='controller.model' latitudeBinding='latitude' longitudeBinding='longitude' undertext=_('You can drag the marker on the map to pinpoint the location even more accurate.') label=_('Location') placeholder=_("Where will your project be located?") errorsBinding='errors.location' className='small' %}

                {{#bb-form-field hint='Select a country.' label='Country' errorsBinding='errors.country' }}
                    {{view App.CountrySelectView selectionBinding=country name='country' classBinding="errors.country.length:error"}}
                {{/bb-form-field}}
                
            </ul>
        </fieldset>

        {% block_verbatim pitch_footer %}
            {{ partial '_my_project_save_edit_footer'}}
        {% endblock_verbatim %}

    </form>

</div>
{{ partial '_my_project_sidebar_pitch' }} 
{% endtplhandlebars %}
